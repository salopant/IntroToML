"0","# Load the MNIST digit recognition dataset into R"
"0","# http://yann.lecun.com/exdb/mnist/"
"0","# assume you have all 4 files and gunzip'd them"
"0","# creates train$n, train$x, train$y  and test$n, test$x, test$y"
"0","# e.g. train$x is a 60000 x 784 matrix, each row is one digit (28x28)"
"0","# call:  show_digit(train$x[5,])   to see a digit."
"0","# brendan o'connor - gist.github.com/39760 - anyall.org"
"0","load_mnist <- function() {"
"0","  load_image_file <- function(filename) {"
"0","    ret = list()"
"0","    f = file(filename,'rb')"
"0","    readBin(f,'integer',n=1,size=4,endian='big')"
"0","    ret$n = readBin(f,'integer',n=1,size=4,endian='big')"
"0","    nrow = readBin(f,'integer',n=1,size=4,endian='big')"
"0","    ncol = readBin(f,'integer',n=1,size=4,endian='big')"
"0","    x = readBin(f,'integer',n=ret$n*nrow*ncol,size=1,signed=F)"
"0","    ret$x = matrix(x, ncol=nrow*ncol, byrow=T)"
"0","    close(f)"
"0","    ret"
"0","  }"
"0","  load_label_file <- function(filename) {"
"0","    f = file(filename,'rb')"
"0","    readBin(f,'integer',n=1,size=4,endian='big')"
"0","    n = readBin(f,'integer',n=1,size=4,endian='big')"
"0","    y = readBin(f,'integer',n=n,size=1,signed=F)"
"0","    close(f)"
"0","    y"
"0","  }"
"0","  train <<- load_image_file('./train-images-idx3-ubyte')"
"0","  test <<- load_image_file('./t10k-images.idx3-ubyte')"
"0","  "
"0","  train$y <<- load_label_file('./train-labels.idx1-ubyte')"
"0","  test$y <<- load_label_file('./t10k-labels.idx1-ubyte')  "
"0","}"
"0","show_digit <- function(arr784, col=gray(12:1/12), ...) {"
"0","  image(matrix(arr784, nrow=28)[,28:1], col=col, ...)"
"0","}"
