"0","#generate the data"
"0","x = runif(30,-3,3)"
"0","errors = rnorm(30,0,0.4)"
"0","y = myPoly(x)+errors"
"0","folds <- cut(seq(1,length(x)),breaks=10,labels=FALSE)"
"0","#cross validation mse, create vector of zeros"
"0","mse_cv = numeric(11) #one for each value of K"
"0","for (K in 0:10)"
"0","{"
"0","  #for each subset of data"
"0","  for (set in 1:10)"
"0","  {"
"0","    #data used to model and cross validate"
"0","    x_s_mod = x[folds != set]"
"0","    y_s_mod = y[folds != set]"
"0","    x_s_test = x[folds == set]"
"0","    y_s_test = y[folds == set]"
"0","    #build model"
"0","    mod = myModel(x_s_mod, y_s_mod, K)"
"0","    "
"0","    #predict with model"
"0","    y_s_cv = pred(mod,x_s_test)"
"0","    #calculate the MSE for the validation data and add to sum for this K"
"0","    mse_cv[K+1] = mse_cv[K+1] + MSE(y_s_test,y_s_cv)"
"0","  }"
"0","}"
"0","plot(0:10,mse_cv,xlab = ""K"",  ylab = ""Sum of mse"", main = ""MSE sum over 10-fold cross-validation"")"
